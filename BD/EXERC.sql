CREATE DATABASE EXERCCREATETABLE;


USE EXERCCREATETABLE;

CREATE TABLE UNIVERSIDADE
(
ID_UNIVERSIDADE INT IDENTITY(1,1) NOT NULL,
NOME VARCHAR(50) NOT NULL,
INSTITUICAO VARCHAR(50) NOT NULL,
);


USE EXERCCREATETABLE;

CREATE TABLE DEPARTAMENTO
(
ID_DEPARTAMENTO INT IDENTITY(1,1) NOT NULL,
ID_UNIVERSIDADE INT NOT NULL,
NOME VARCHAR(50) NOT NULL,
DESCRICAO VARCHAR(100) NULL,
ID_COORDENADOR INT NOT NULL
);



USE EXERCCREATETABLE;

CREATE TABLE CURSO
(
ID_CURSO INT IDENTITY(1,1) NOT NULL,
NOME VARCHAR(50) NOT NULL,
DURACAO SMALLINT NOT NULL,
ID_DEPARTAMENTO INT NOT NULL,
SALACOORDENADOR VARCHAR(10),
ID_COORDENADOR INT NOT NULL
);



USE EXERCCREATETABLE;

CREATE TABLE ALUNO
(
ID_ALUNO INT IDENTITY(1,1) NOT NULL,
NOME VARCHAR(50) NOT NULL,
NRMATRICULA VARCHAR(15) NOT NULL,
IDADE SMALLINT NOT NULL,
SEXO VARCHAR(10) NOT NULL,
ID_CURSO INT NOT NULL,
BOLSISTA VARCHAR (3) NOT NULL
);


USE EXERCCREATETABLE;

CREATE TABLE PROFESSOR
(
ID_PROFESSOR INT IDENTITY(1,1) NOT NULL,
NOME VARCHAR(50) NOT NULL,
ID_DEPARTAMENTO INT NOT NULL,
TITULO VARCHAR(50) NOT NULL,
FORMACAO VARCHAR(300) NOT NULL
);



USE EXERCCREATETABLE;

CREATE TABLE DISCIPLINA
(
ID_DISCIPLINA INT IDENTITY(1,1) NOT NULL,
NOME VARCHAR(50) NOT NULL,
DESCRICAO VARCHAR(300) NULL,
ID_PROFESSOR INT NOT NULL,
ID_CURSO INT NOT NULL
);




USE EXERCCREATETABLE;

CREATE TABLE REL
(
ID_ALUNO INT NOT NULL,
ID_DISCIPLINA INT NOT NULL
);



USE EXERCCREATETABLE;

CREATE TABLE NOTA
(
ID_NOTA INT IDENTITY(1,1) NOT NULL,
ID_ALUNO INT NOT NULL,,
ID_DISCIPLINA INT NOT NULL,
NOTA DECIMAL(4,2) NOT NULL,
AVALIACAO VARCHAR(30) NOT NULL
);



ALTER TABLE UNIVERSIDADE ADD
CONSTRAINT PK_UNIVERSIDADE PRIMARY KEY( ID_UNIVERSIDADE );

ALTER TABLE DEPARTAMENTO ADD
CONSTRAINT PK_DEPARTAMENTO PRIMARY KEY( ID_DEPARTAMENTO );



















